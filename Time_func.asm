
		unpack:										;		???????? ? ?????????
											LDS SEC1, sec_o	; ????????? 1 ??????
											LDS SEC2, sec_o	; ????????? ?????? ??????
											ANDI SEC1, 0b11110000 ;	??????????? ????? ? ???????? ? ?????
											SWAP SEC1
											ANDI SEC2, 0b00001111 ; ??????????? ?????

											;		???????? ? ????????
											LDS MIN1, min_o	; ????????? 1 ??????
											LDS MIN2, min_o	; ????????? ?????? ??????
											ANDI MIN1, 0b11110000 ;	??????????? ????? ? ???????? ? ?????
											SWAP MIN1
											ANDI MIN2, 0b00001111 ; ??????????? ?????

											; ?????????? ? ??????
											LDS HOUR1, hour_o	; ????????? 1 ??????
											LDS HOUR2, hour_o	; ????????? ?????? ??????
											ANDI HOUR1, 0b11110000 ;	??????????? ????? ? ??????? ? ???????
											SWAP HOUR1
											ANDI HOUR2, 0b00001111 ; ??????????? ?????

											RET

		pack:								LDI R16,0
											STS sec_o, R16 ;??????? ? ????
												
											;?????????? ??????
											MOV R16, MIN1 ;?????? ?????? ????
											SWAP R16	;?????
											ADD R16, MIN2	; ?????? ??????
											STS min_o, R16
											
											
											MOV R16, HOUR1 ;?????? ?????? ????
											SWAP R16	; ?????
											ADD R16, HOUR2	;?????? ??????
											STS hour_o, R16
											RET


											;SETING TIME OF THE CLOCK 
setm:									
											INC MIN2
											CPI MIN2, 10
											BREQ setm1
											RJMP set_time

setm1:										LDI MIN2, 0
											INC MIN1
											CPI MIN1,6
											BREQ setm2
											RJMP set_time

setm2:										LDI MIN1, 0
											RJMP set_time
											
											
											
seth:									
											
											INC HOUR2
											CPI HOUR2, 4
											BREQ seth3
ret_h:										CPI HOUR2, 10
											BREQ seth1
											RJMP set_time

seth3:										CPI HOUR1, 2
											BREQ seth2
											RJMP ret_h

seth1:										LDI HOUR2, 0
											INC HOUR1
											RJMP set_time

seth2:										LDI HOUR1, 0
											LDI HOUR2, 0
											LDI HOUR, 0
											RJMP set_time

set_time:								
											sbis PINB, 1
											RJMP set_time1
											RJMP set_time

set_time1:									SBIS PINB, 0
											RJMP quit
											RJMP set_time

quit:										
											STSI RTCAddr, cl_adr 
											RCALL RTC_WRITE
											RJMP end_set


end_set:									IN R16, PINB
											SBRS R16, 6
											RJMP quit

											;IN R16, PINB
											;SBRS R16, 3
											;RJMP quit

											RJMP start
